{% extends "base.html" %}
{% load static %}
{% block content %}
{% block head %}

<link rel="stylesheet" href="{% static "css/home.css" %}">
<link href="{% static "css/home.css" %}" rel="stylesheet">
{% endblock  %}
<!-- AOS & Typed.js -->
<link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

<!-- Hero Section -->
<section class="hero-cool position-relative py-5 px-3 px-md-5 overflow-hidden">
    <!-- Background Image Overlay -->
    <div class="hero-bg-img position-absolute w-100 h-100 top-0 start-0"></div>
    <div class="hero-overlay position-absolute w-100 h-100 top-0 start-0"></div>
  
    <div class="container position-relative d-flex flex-column flex-md-row align-items-center justify-content-between z-1">
      <!-- Left Text -->
      <div class="text-content mb-5 mb-md-0" style="max-width: 600px;" data-aos="fade-right">
        <h1 class="display-5 fw-bold text-white mb-3">
            CRPR Building <span class="text-warning">Tomorrow's</span><br />
          Solutions with <span class="text-info">African Ingenuity</span>
        </h1>
        <p class="fs-5 text-light mb-4">
          <span id="typed-subtitle"></span>
        </p>
        <div class="d-flex gap-3 flex-wrap">
          <a href="{% url 'project_page' %}" class="btn btn-warning text-dark fw-semibold px-4 py-2 shadow-sm">
            Browse Projects ‚Üí
          </a>
          <a href="{% url 'create_project' %}" class="btn btn-outline-light fw-semibold px-4 py-2 shadow-sm">
            create project üë•
          </a>
        </div>
      </div>
  
      <!-- Right Image + Profile -->
      <div class="image-content text-center position-relative" data-aos="fade-left">
        <div class="position-relative d-inline-block">
          <img src="{% static 'images/home/hero3.jpeg' %}" class="img-fluid rounded-4 shadow-lg border border-light border-3" style="max-height: 420px;" alt="Hero Image" />
          <div class="badge-box position-absolute top-0 end-0 translate-middle bg-light rounded-4 px-3 py-2 shadow-sm">
            <strong class="text-primary fs-5">{{ projects_count }}+</strong><br />
            <span class="text-secondary small">Projects</span>
          </div>
        </div>
  
        <div class="profile-card mt-4 bg-white shadow rounded-4 p-3 d-flex align-items-center justify-content-start mx-auto" style="max-width: 350px;">
          <div class="avatar bg-warning text-white rounded-circle fw-bold me-3 d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">RX</div>
          <div>
            <h6 class="mb-1 fw-bold text-dark">Research HubX</h6>
            <small class="text-muted">Creator & Lead Developer</small><br />
            <span class="text-success small">‚óè Online now</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  <style>
    .hero-cool {
      position: relative;
      min-height: 100vh;
      color: white;
    }
  
    .hero-bg-img {
      background-image: url('{% static "images/home/hero_bg-min.png" %}');
      background-size: cover;
      background-position: center;
      z-index: 0;
      opacity: 0.4;
    }
  
    .hero-overlay {
      background: linear-gradient(to right, rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.3));
      z-index: 1;
    }
  
    .badge-box {
      font-size: 0.85rem;
      z-index: 2;
    }
  
    .profile-card {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
  
    .profile-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    }
  
    .avatar {
      font-size: 1rem;
      box-shadow: 0 0 0 2px white;
    }
  
    @media (max-width: 768px) {
      .hero-cool {
        text-align: center;
      }
  
      .profile-card {
        justify-content: center;
      }
    }
  </style>
  <script>
    AOS.init();
  
    new Typed("#typed-subtitle", {
      strings: [
        "Discover innovative African computing projects.",
        "Collaborate and build the future.",
        "Join a community of tech creators.",
      ],
      typeSpeed: 40,
      backSpeed: 20,
      loop: true
    });
  </script>
      

        

        <!--about brief-->
        <div style="background-color: #007A33; padding: 15px; border-radius: 8px; text-align: center;">
            <h2 style="color: #FFD700; font-weight: bold; font-size: 28px; text-transform: uppercase; margin: 0;">
                What is CRPR?
            </h2>
        </div>        
        <section id="about" class="container-fluid py-4" style="background-color: #f8f9fa;">
            <div class="row align-items-center">
                <!-- Text Section -->
                <div class="col-md-6 col-12 px-4">
                    <p style="font-size: 1.2rem; line-height: 1.8; font-family: 'Arial', sans-serif; color: #333;">
                        The <strong>Computing Research Projects Repository (CRPR)</strong> by  
                        <span style="color: rgb(103, 222, 30);"><em>JKUAT</em></span> is a dynamic platform fostering 
                        <em>research, innovation, and collaboration</em>, connecting students, researchers, and industry 
                        partners to groundbreaking projects.
                    </p>
                    <p style="font-size: 1.2rem; line-height: 1.8;">
                        Join us in bridging <em>academia</em> and <em>industry</em> to drive impactful computing innovations.  
                        <a href="{% url "about_us" %}" class="btn btn-primary mt-2 jkuat-btn" 
                           style="display: inline-block; margin-left: 10px;">Learn More</a>
                    </p>
                </div>            
        
                <!-- Video Section -->
                <div class="col-md-6 col-12 px-4 mt-3 mt-md-0">
                    <video width="100%" controls style="border-radius: 10px; background: transparent;">
                        <source src="{% static "images/about_video/about_us.mp4" %}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>
        </section>        
        

      <!-- Featured Projects Section -->
        <div class="section featured-projects py-5" id="recent_projects" style="background-color: #f8f9fa;">
            <div class="container">
                <h3 class="text-center text-success mb-3 font-weight-bold">Recent Research Projects</h3>
                <p class="text-center text-muted mx-auto" style="max-width: 800px; font-size: 1.1rem; line-height: 1.6;">
                    Explore the latest innovations and research projects from <strong>JKUAT's leading minds</strong>. Our researchers are dedicated to solving real-world challenges through cutting-edge technology and innovation.
                </p>
                
                <div class="row mt-4">
                    {% if recent_projects %}
                        {% for project in recent_projects %}
                            <div class="col-md-6 col-lg-4 mb-4">
                                <div class="card h-100 shadow-sm border-0">
                                    <div class="card-body text-center">
                                        <h5 class="card-title text-primary font-weight-bold">{{ project.title }}</h5>
                                        <p class="card-text text-muted">{{ project.description|slice:":60" }}...</p>
                                        <p class="card-date text-secondary"><small>{{ project.date_created|date:"F j, Y" }}</small></p>
                                        <a href="{% url 'details_page' project.id %}" class="btn btn-outline-success btn-sm">View Details</a>
                                    </div>
                                    <div class="card-footer text-center bg-light border-top">
                                        <img class="rounded-circle mx-auto" style="width: 50px; height: 50px; object-fit: cover;" 
                                            src="{% if project.creator.profile.avatar %}{{ project.creator.profile.avatar.url }}{% else %}{% static 'images/avatar.png' %}{% endif %}" 
                                            alt="User Avatar">
                                        <p class="mt-2 mb-0 text-dark" style="font: 10px sans-serif;">created by:<strong>{{ project.creator.get_full_name }}</strong></p>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    {% else %}
                        <!-- Message for No Recent Projects -->
                        <div class="col-12 text-center mt-4">
                            <p class="text-danger">üöÄ No recent projects available at the moment. Check back soon!</p>
                            <a href="{% url 'create_project' %}" class="btn btn-success">Start a New Project</a>
                        </div>
                    {% endif %}
                </div>

                {% if recent_projects %}
                    <div class="text-center mt-3 jkuat-btn">
                        <a href="{% url 'project_page' %}" class="btn">View More Projects</a>
                    </div>
                {% endif %}
            </div>
        </div>

    <!--Featured researchers-->
  
      <div class="section featured-researchers py-0" id="research" style="background-color: #f8f9fa;">
        <div class="container">
            <h2 class="text-center mb-4 text-success font-weight-bold">Featured Researchers</h2>
            <p class="text-center text-muted mx-auto" style="max-width: 800px; font-size: 1.1rem; line-height: 1.6;">
                At <strong>Jomo Kenyatta University of Agriculture and Technology (JKUAT)</strong>, we believe in the power of innovation and research to drive change. 
                Our dedicated researchers are making groundbreaking contributions in various fields, shaping the future of science, technology, and industry. 
                Explore the latest projects, connect with leading experts, and be part of a thriving research community.
            </p>            
            
            {% if researchers %}
                <div id="carouselResearchers" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        {% for researcher in researchers %}
                            {% if forloop.counter0|divisibleby:3 %}
                                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                                    <div class="row justify-content-center">
                            {% endif %}
                                        <div class="col-md-4 d-flex align-items-stretch">
                                            <div class="card shadow-lg border-0 text-center p-3 researcher-card">
                                                <img class="rounded-circle mx-auto" 
                                                src="{% if researcher.profile and researcher.profile.avatar %}{{ researcher.profile.avatar.url }}{% else %}{% static 'images/avatar.png' %}{% endif %}" 
                                                alt="{{ researcher.username }}" 
                                                width="120" height="120" 
                                                style="object-fit: cover; border: 4px solid #96df4d;">                                           
                                                <h5 class="mt-3 mb-1 text-dark researcher-name">{{ researcher.username }}</h5>
                                                <p class="text researcher-text" style="color:rgb(36, 23, 110);">Projects: {{ researcher.project_count }}</p>
                                                <br>
                                                <!-- View Projects Button -->
                                                <a href="{% url 'filtered_projects' researcher.id %}" class="jkuat-btn">View Projects</a>
                                            </div>
                                        </div>
                            {% if forloop.counter|divisibleby:3 or forloop.last %}
                                    </div>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                    
                    <!-- Inline CSS for Equal Card Widths -->
                    <style>
                        .researcher-card {
                            width: 100%;  /* Ensures full width in column */
                            min-height: 300px;  /* Adjust for uniform height */
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            align-items: center;
                        }
                    
                        .researcher-name {
                            font-size: 20px;
                            font-weight: bold;
                        }
                    
                        .researcher-text {
                            flex-grow: 1;  /* Ensures text fills space equally */
                            min-height: 40px;  /* Prevents height variation */
                        }
                    
                        /* Ensuring images are uniform */
                        .researcher-card img {
                            object-fit: cover;
                            width: 120px;
                            height: 120px;
                            border-radius: 50%;
                            border: 4px solid #96df4d;
                        }
                    </style>
                    
                    
                    <!-- Carousel Controls -->
                    <a class="carousel-control-prev" href="#carouselResearchers" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon custom-carousel-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselResearchers" role="button" data-slide="next">
                        <span class="carousel-control-next-icon custom-carousel-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                    
                    <!-- Inline CSS to Change Button Icons to Black -->
                    <style>
                        .custom-carousel-icon {
                            background-color: black !important;  /* Make icons black */
                            border-radius: 50%;  /* Optional: Make them circular */
                            padding: 10px;  /* Slightly increase size */
                        }
                    </style>                    
                </div>
            
            {% else %}
                <div class="alert alert-warning text-center">
                    <strong>No featured researchers available.</strong> Check back later for updates.
                </div>
            {% endif %}
        </div>
    </div>
    
      <!-- news_and_events.html -->
      <div class="section news-events py-5 bg-light" id="news-events">
        <div class="container">
            <h3 class="section-title text-center text-success mb-2">News and Events</h3>
            <p class="section-description text-center text-muted mb-5">
                Stay updated on the latest news and events at <strong>JKUAT SCIT CRPR</strong>, including upcoming seminars, workshops, and cultural events.
            </p>            
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <div class="list-group">
                        {% if news_items or event_items %}
                            {% for item in news_items %}
                            <a class="list-group-item list-group-item-action flex-column align-items-start mb-3 shadow-sm">
                                <div class="d-flex w-100 justify-content-between">
                                    <h6 class="mb-1 text-info">{{ item.title }}</h6>
                                    <small class="text-muted">{{ item.date_time|date:"F d, Y H:i" }}</small>
                                </div>
                                <p class="mb-1 text-success">{{ item.description }}</p>
                            </a>
                            {% endfor %}
    
                            {% for item in event_items %}
                            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start mb-3 shadow-sm">
                                <div class="d-flex w-100 justify-content-between">
                                    <h6 class="mb-1 text-info" >{{ item.title }}</h6>
                                    <small class="text-muted">{{ item.date_time|date:"F d, Y H:i" }}</small>
                                </div>
                                <p class="mb-1 text-secondary">{{ item.description }}</p>
                            </a>
                            {% endfor %}
                        {% else %}
                            <div class="alert alert-warning" role="alert">
                                No upcoming events or events at the moment.
                            </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--reviews-->
    {% include "reviews.html" %}

 <!-- home.html -->
 <div class="container-fluid mb-0 mt-0">
    <section class="cta-section py-5" id="cta">
        <div class="cta-container">
            <!-- Left Side Content -->
            <div class="cta-content">
                <h2 class="cta-header text-warning fw-bold">Ready To Make A Difference?</h2>
                <p class="cta-subtext">
                    Be Part Of A Vibrant Community Of Innovators And Leaders Driving Sustainable Innovation And Transforming Ideas Into Reality.
                </p>

                <!-- Subscription Form -->
                <form method="post" action="{% url 'home' %}" class="cta-form">
                    {% csrf_token %}
                    <input type="text" name="name" placeholder="Name" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <button type="submit" name="subscribe" class="cta-button">Send</button>
                </form>
            </div>

            <!-- Right Side Image with Overflow Effect -->
            <div class="cta-image">
                <img src="{% static 'images/team/Joe_sub_img.png' %}" alt="Joe_Photo">
            </div>
        </div>
    </section>

    <style>
        /* Full Section Styling */
        .cta-section {
            background: linear-gradient(to right, #007A33, #003366); /* JKUAT Theme */
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
            border-radius: 10px;
            overflow: hidden;
        }

        /* Container */
        .cta-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1100px;
            width: 80%;
            padding: 10px;
            position: relative;
        }

        /* Left Side Content */
        .cta-content {
            flex: 1;
            text-align: left;
            color: white;
            margin-right: 300px;
        }

        /* Right Side Image - Overflow Effect */
        .cta-image img {
            width: 280px;
            height: auto;
            border-radius: 15px;
            object-fit: cover;
            position: absolute;
            right: -40px;
            top: -40px;
        }

        /* Headline */
        .cta-header {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        /* Subtext */
        .cta-subtext {
            font-size: 15px;
            margin-bottom: 20px;
        }

        /* Form */
        .cta-form {
            display: flex;
            gap: 10px;
        }

        /* Input Fields */
        .cta-form input {
            padding: 12px;
            border: none;
            border-radius: 5px;
            width: 180px;
            font-size: 14px;
        }

        /* Button */
        .cta-button {
            background: #33FF99;
            color: black;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
            transition: 0.3s ease;
        }

        .cta-button:hover {
            background: #2AD179;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .cta-container {
                flex-direction: column;
                text-align: center;
            }

            .cta-content {
                margin-right: 0;
                text-align: center;
            }

            .cta-image img {
                position: relative;
                right: 0;
                top: 0;
                width: 220px;
                margin-top: 20px;
            }

            .cta-form {
                justify-content: center;
                flex-wrap: wrap;
            }

            .cta-form input {
                width: 100%;
                max-width: 250px;
            }
        }
    </style>
 </div>

<style>
    /* Full Section Styling */
    .cta-section {
        background: linear-gradient(to right, #007A33, #003366); /* JKUAT Theme */
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 300px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 2px 3px 5px black;
        margin-top: 0 !important;
        margin-bottom: 0 !important;
    }

    /* Container */
    .cta-container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        max-width: 1100px;
        width: 80%;
        padding: 10px;
        position: relative;
    }

    /* Left Side Content */
    .cta-content {
        flex: 1;
        text-align: left;
        color: white;
        margin-right: 300px;
    }

    /* Right Side Image - Overflow Effect */
    .cta-image img {
        width: 280px;
        height: auto;
        border-radius: 15px;
        object-fit: cover;
        position: absolute;
        right: -40px;
        top: -40px;
    }

    /* Headline */
    .cta-header {
        font-size: 24px;
        font-weight: 800;
        margin-bottom: 10px;
    }

    /* Subtext */
    .cta-subtext {
        font-size: 15px;
        margin-bottom: 20px;
    }

    /* Form */
    .cta-form {
        display: flex;
        gap: 10px;
    }

    /* Input Fields */
    .cta-form input {
        padding: 12px;
        border: none;
        border-radius: 5px;
        width: 180px;
        font-size: 14px;
    }

    /* Button */
    .cta-button {
        background: #33FF99;
        color: black;
        border: none;
        padding: 12px 20px;
        border-radius: 5px;
        font-size: 14px;
        cursor: pointer;
        transition: 0.3s ease;
    }

    .cta-button:hover {
        background: #2AD179;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
        .cta-container {
            flex-direction: column;
            text-align: center;
        }

        .cta-content {
            margin-right: 0;
            text-align: center;
        }

        .cta-image {
            display: none; /* Hide the image on smaller screens */
        }

        .cta-form {
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-form input {
            width: 100%;
            max-width: 250px;
        }
    }
</style>

<!-- Call to Action Section -->
<style>   
    .jkuat-cta-section {
        padding: 60px 30px;
        color: white;
        text-align: center;
    }
    .jkuat-header {
        font-size: 32px;
        font-weight: bold;
        color: #FFD700;
        margin-bottom: 10px;
        text-transform: uppercase;
    }
    .jkuat-subtext {
        font-size: 18px;
        font-weight: 500;
        margin-bottom: 20px;
        color: #E3E3E3;
    }
    .jkuat-btn-primary, .jkuat-btn-secondary {
        display: inline-block;
        padding: 12px 24px;
        font-size: 16px;
        font-weight: bold;
        border-radius: 50px;
        text-decoration: none;
        box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease-in-out;
    }
    .jkuat-btn-primary {
        background: #FFD700;
        color: #003366;
        margin-right: 15px;
    }
    .jkuat-btn-secondary {
        background: #D50000;
        color: white;
    }
    .jkuat-btn-primary:hover {
        background: #FFC107;
        transform: scale(1.05);
    }
    .jkuat-btn-secondary:hover {
        background: #B71C1C;
        transform: scale(1.05);
    }
</style>

<script src="{% static "js/main.js" %}"></script>
  
{% endblock  %}